#!/usr/bin/python
import os, sys, math, datetime
from ROOT import gROOT, gStyle, TFile, TTree, TH1F, TH1D, TCanvas, TPad, TMath, TF1, TLegend, gPad, gDirectory

from collections import OrderedDict
import numpy

sys.path.append(os.path.abspath(os.path.curdir))

from Plotter import parseLYAnaInputArgs
from Plotter.CommonTools import DrawHistSimple
options = parseLYAnaInputArgs()

gROOT.LoadMacro("Plotter/UMDStyle.C")
from ROOT import SetUMDStyle
SetUMDStyle()
gROOT.SetBatch()

####################################################################################################
####################################################################################################
if __name__ == '__main__':
    #gROOT.SetStyle("Plain")
    #gStyle.SetOptFit()
    #gStyle.SetOptStat(0)
    print options
    myfile = {}

    hxrng = {}
    hxrng["Ref"] = [32,-1,8]
    hxrng["EJ200"] = [32,-1,6]
    hxrng["EJ260"] = [32,-0.5,4]

    today = datetime.date.today()
    fTag = today.strftime("%Y%m%d")

    ## Output directory
    outDir = "Results/20170124"
    try:
        os.makedirs(outDir)
    except:
        pass

    ## NIST set1
    doselabel = "7 Mrad@ 390 krad/hr; 112 days aft. irr."

    ## 01/11/17
    myfile["EJ200_2X_03-20170111"] = ["Ref",TFile("root/AlphaSource/Pu239new_EJ200-2X_3_Default_Nofoil_FaceA_FastFrame_20170111.root")]

    ## 01/24/17
    myfile["EJ200_2X_03-20170124"] = ["Ref",TFile("root/AlphaSource/Pu239new_EJ200-2X_3_Default_Nofoil_FaceA_FastFrame_20170124.root")]

    ## 01/24/17
    myfile["EJ200PVT_1X1P_N9-Face_A"] = ["EJ200",TFile("root/AlphaSource/Pu239new_EJ200PVT-1X1P_N9_Default_Nofoil_FaceA_FastFrame_20170124.root")]
    myfile["EJ200PVT_1X1P_N9-Face_B"] = ["EJ200",TFile("root/AlphaSource/Pu239new_EJ200PVT-1X1P_N9_Default_Nofoil_FaceB_FastFrame_20170124.root")]

    myfile["EJ200PS_1X1P_9-Face_A"] = ["EJ200",TFile("root/AlphaSource/Pu239new_EJ200PS-1X1P_9_Default_Nofoil_FaceA_FastFrame_20170124.root")]
    myfile["EJ200PS_1X1P_9-Face_B"] = ["EJ200",TFile("root/AlphaSource/Pu239new_EJ200PS-1X1P_9_Default_Nofoil_FaceB_FastFrame_20170124.root")]

    myfile["EJ200PVT_1X2P_N9-Face_A"] = ["EJ200",TFile("root/AlphaSource/Pu239new_EJ200PVT-1X2P_N9_Default_Nofoil_FaceA_FastFrame_20170124.root")]
    myfile["EJ200PVT_1X2P_N9-Face_B"] = ["EJ200",TFile("root/AlphaSource/Pu239new_EJ200PVT-1X2P_N9_Default_Nofoil_FaceB_FastFrame_20170124.root")]

    myfile["EJ200PS_1X2P_9-Face_A"] = ["EJ200",TFile("root/AlphaSource/Pu239new_EJ200PS-1X2P_9_Default_Nofoil_FaceA_FastFrame_20170124.root")]
    myfile["EJ200PS_1X2P_9-Face_B"] = ["EJ200",TFile("root/AlphaSource/Pu239new_EJ200PS-1X2P_9_Default_Nofoil_FaceB_FastFrame_20170124.root")]

    plotSets = {}
    plotSets['0'] = ["EJ200_2X_03-20170111","EJ200_2X_03-20170124"]
    plotSets['1'] = ["EJ200PVT_1X1P_N9-Face_A","EJ200PVT_1X1P_N9-Face_B"]
    plotSets['2'] = ["EJ200PVT_1X2P_N9-Face_A","EJ200PVT_1X2P_N9-Face_B"]
    plotSets['3'] = ["EJ200PS_1X1P_9-Face_A","EJ200PS_1X1P_9-Face_B"]
    plotSets['4'] = ["EJ200PS_1X2P_9-Face_A","EJ200PS_1X2P_9-Face_B"]


    DrawHistSimple(myfile, plotSets, outDir, fTag, doselabel, hxrng, options)
